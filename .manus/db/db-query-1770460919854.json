{
  "query": "\n-- 주문 테이블\nCREATE TABLE IF NOT EXISTS orders (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  userId INT NOT NULL,\n  orderNumber VARCHAR(50) UNIQUE NOT NULL,\n  totalAmount INT NOT NULL,\n  status ENUM('pending', 'paid', 'failed', 'cancelled') DEFAULT 'pending',\n  paymentMethod VARCHAR(50),\n  paymentKey VARCHAR(255),\n  orderedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  paidAt TIMESTAMP,\n  cancelledAt TIMESTAMP,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  INDEX idx_userId (userId),\n  INDEX idx_status (status),\n  INDEX idx_orderNumber (orderNumber)\n);\n\n-- 주문 상품 테이블\nCREATE TABLE IF NOT EXISTS orderItems (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  orderId INT NOT NULL,\n  productId INT NOT NULL,\n  quantity INT NOT NULL,\n  unitPrice INT NOT NULL,\n  totalPrice INT NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (orderId) REFERENCES orders(id) ON DELETE CASCADE,\n  INDEX idx_orderId (orderId)\n);\n\n-- 배송 정보 테이블\nCREATE TABLE IF NOT EXISTS shipments (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  orderId INT NOT NULL UNIQUE,\n  recipientName VARCHAR(100) NOT NULL,\n  recipientPhone VARCHAR(20) NOT NULL,\n  address VARCHAR(255) NOT NULL,\n  addressDetail VARCHAR(255),\n  postalCode VARCHAR(10),\n  status ENUM('pending', 'preparing', 'shipped', 'delivered', 'returned') DEFAULT 'pending',\n  trackingNumber VARCHAR(50),\n  shippingCompany VARCHAR(50),\n  shippedAt TIMESTAMP,\n  deliveredAt TIMESTAMP,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (orderId) REFERENCES orders(id) ON DELETE CASCADE,\n  INDEX idx_status (status)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 416sKAyoYAY7t9i.root --database Mn9Dg9rESodT4uw3HctnZ9 --execute \n-- 주문 테이블\nCREATE TABLE IF NOT EXISTS orders (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  userId INT NOT NULL,\n  orderNumber VARCHAR(50) UNIQUE NOT NULL,\n  totalAmount INT NOT NULL,\n  status ENUM('pending', 'paid', 'failed', 'cancelled') DEFAULT 'pending',\n  paymentMethod VARCHAR(50),\n  paymentKey VARCHAR(255),\n  orderedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  paidAt TIMESTAMP,\n  cancelledAt TIMESTAMP,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  INDEX idx_userId (userId),\n  INDEX idx_status (status),\n  INDEX idx_orderNumber (orderNumber)\n);\n\n-- 주문 상품 테이블\nCREATE TABLE IF NOT EXISTS orderItems (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  orderId INT NOT NULL,\n  productId INT NOT NULL,\n  quantity INT NOT NULL,\n  unitPrice INT NOT NULL,\n  totalPrice INT NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (orderId) REFERENCES orders(id) ON DELETE CASCADE,\n  INDEX idx_orderId (orderId)\n);\n\n-- 배송 정보 테이블\nCREATE TABLE IF NOT EXISTS shipments (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  orderId INT NOT NULL UNIQUE,\n  recipientName VARCHAR(100) NOT NULL,\n  recipientPhone VARCHAR(20) NOT NULL,\n  address VARCHAR(255) NOT NULL,\n  addressDetail VARCHAR(255),\n  postalCode VARCHAR(10),\n  status ENUM('pending', 'preparing', 'shipped', 'delivered', 'returned') DEFAULT 'pending',\n  trackingNumber VARCHAR(50),\n  shippingCompany VARCHAR(50),\n  shippedAt TIMESTAMP,\n  deliveredAt TIMESTAMP,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (orderId) REFERENCES orders(id) ON DELETE CASCADE,\n  INDEX idx_status (status)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3317
}